<template>
  <v-app>
    <div class="home-wrapper">
    <div class="home-block">
      <div class="header">
        <div class="logo">
          <img src="../../assets/image/logo-header.svg" alt="header-logo/">
        </div>
        <div class="nav-options">
          <v-tabs
            v-model="tab"
            background-color="#FFFFFF"
          >
            <v-tab
              v-for="item in tabItems"
              :key="item.tab"
            >
              {{ item.tab }}
            </v-tab>
          </v-tabs>
        </div>
        <div class="user-block" v-if="currentUser">
          <v-tooltip bottom>
            <template v-slot:activator="{ on, attrs }">
              <v-btn
                text
                class="acti-button mr-1"
                icon
                color="#075793"
                width="36px"
                height="36px"
                v-bind="attrs"
                v-on="on"
                @click="$router.push('/')"
              >
                <v-icon dark size="20">mdi-page-next</v-icon>
              </v-btn>
            </template>
            <span>K√™nh ho·∫°t ƒë·ªông</span>
          </v-tooltip>
          <v-tooltip bottom>
            <template v-slot:activator="{ on, attrs }">
              <v-btn
                text
                class="bell-button mr-1"
                icon
                color="#075793"
                width="36px"
                height="36px"
                v-bind="attrs"
                v-on="on"
              >
                <v-icon dark size="20">mdi-bell</v-icon>
              </v-btn>
            </template>
            <span>Th√¥ng b√°o</span>
          </v-tooltip>
          <profile-option :currentUser="currentUser"/>

        </div>
        <div class="btn-login-block" v-else>
          <v-btn @click="$router.push('/login')">ƒêƒÉng nh·∫≠p</v-btn>
        </div>
      </div>
      <div class="banner-news">
        <marquee>
          V√†o ng√†y 12/06/2022, ch∆∞∆°ng tr√¨nh ƒê·ªãnh c∆∞ Con ng∆∞·ªùi Li√™n H·ª£p Qu·ªëc #UNHabitat ph·ªëi h·ª£p c√πng Qu·ªπ Nhi ƒë·ªìng Li√™n H·ª£p Qu·ªëc (UNICEF) s·∫Ω t·ªï ch·ª©c s·ª± ki·ªán Di·ªÖn ƒë√†n thanh ni√™n ƒë√¥ th·ªã 2030 Vi·ªát Nam t·∫°i th√†nh ph·ªë ƒê√† N·∫µng. ƒê√¢y l√† s·ª± ki·ªán n·∫±m trong khu√¥n kh·ªï d·ª± √°n Thanh ni√™n ƒë√¥ th·ªã 2030 di UN-Habitat th·ª±c hi·ªán t·∫°i 06 qu·ªëc
          ‚úÖDi·ªÖn ƒë√†n Thanh ni√™n ƒë√¥ th·ªã 2030 Vi·ªát Nam #youth2030cities mong mu·ªën t·∫°o ra n·ªÅn t·∫£ng ƒë·ªëi tho·∫°i gi·ªØa thanh ni√™n v·ªõi c√°c b√™n li√™n quan tham gia v√†o qu√° tr√¨nh ƒë√¥ th·ªã h√≥a b·ªÅn v·ªØng. K·∫øt qu·∫£ c·ª• th·ªÉ c·ªßa Di·ªÖn ƒë√†n s·∫Ω l√† m·ªôt tuy√™n b·ªë thanh ni√™n v·ªõi ƒë√¥ th·ªã h√≥a b·ªÅn v·ªØng (DeclarACTION) v√† l√† ƒë√≥ng g√≥p c·ªßa thanh ni√™n Vi·ªát Nam t·∫°i Di·ªÖn ƒë√†n ƒê√¥ th·ªã Th·∫ø gi·ªõi l·∫ßn th·ª© 11 #WUF11 s·∫Øp ƒë∆∞·ª£c t·ªï ch·ª©c t·∫°i Ba Lan. Tuy√™n b·ªë n√†y s·∫Ω ƒë√≥ng vai tr√≤ l√†m l·ªô tr√¨nh th·ª±c hi·ªán v√† k·∫ø ho·∫°ch h√†nh ƒë·ªông cho gi·ªõi tr·∫ª nh·∫±m ƒë·∫°t ƒë∆∞·ª£c c√°c M·ª•c ti√™u ph√°t tri·ªÉn b·ªÅn v·ªØng v√† c√°c m·ª•c ti√™u ƒë·ªÅ ra trong Ch∆∞∆°ng tr√¨nh Ngh·ªã s·ª± ƒë√¥ th·ªã m·ªõi.
          üè¢V√¨ v·∫≠y, ƒêo√†n Thanh ni√™n Tr∆∞·ªùng ƒê·∫°i h·ªçc B√°ch Khoa - ƒêHƒêN k√™u g·ªçi c√°c b·∫°n sinh vi√™n, thanh ni√™n tham gia s·ª± ki·ªán l·∫ßn n√†y. D·ª± √°n l·∫ßn n√†y do UN-Habitat t·ªï ch·ª©c v·ªõi mong mu·ªën tƒÉng c∆∞·ªùng ti·∫øng n√≥i, s·ª± tham gia c·ªßa c√°c thanh ni√™n trong vi·ªác ph√°t tri·ªÉn ƒë√¥ th·ªã b·ªÅn v·ªØng.
        </marquee>
      </div>
      <div class="event-block">
        <div class="slide-block">
          <v-carousel :show-arrows="true" :cycle="true">
            <v-carousel-item
              v-for="(item,i) in slideItems"
              :key="i"
              :src="item.src"
              reverse-transition="fade-transition"
              transition="fade-transition"
            ></v-carousel-item>
          </v-carousel>
        </div>
        <div class="image-block">
          <img src="../../assets/image/282094376_1978610139006451_5596072089181779361_n.jpg" alt="">
          <img src="../../assets/image/283670943_5389268691119151_4683700183425758671_n.jpg" alt="">
        </div>
      </div>
      <div class="content-block">
        <v-row>
          <v-col>
            <div class="notification-block">
              <div class="title-text">
                <v-icon> fa-bullhorn</v-icon>
                <span>TH√îNG B√ÅO</span>
              </div>
              <div class="content">
                <span class="tab">M·ªöI NH·∫§T</span>
                <v-divider
                  class="mx-4"
                ></v-divider>
                <div class="notification" v-for="(item, index) in [1,2,3,4,5,6,7,8,9,10]" :key="index">
                  <div class="post-time">
                    <span class="date">08/04</span>
                    <span class="year">2022</span>
                  </div>
                  <div class="title-block">
                    <div class="title-text">
                      <p>
                        <a href="">Tuy√™Ãân sinh v√†o ƒëaÃ£i hoÃ£c h√™Ã£ chiÃÅnh quy theo ph∆∞∆°ng th·ª©c tuy·ªÉn sinh ri√™ng nƒÉm
                          2022</a>
                      </p>
                    </div>
                    <div class="time">
                      <v-icon>mdi-calendar-month</v-icon>
                      <span>30/04/2022 08:24</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </v-col>
          <v-col>
            <div class="news-block">
              <div class="title-text">
                <v-icon> fa-newspaper</v-icon>
                <span>TIN T·ª®C</span>
              </div>
              <div class="content">
                <span class="tab">M·ªöI NH·∫§T</span>
                <v-divider
                  class="mx-4"
                ></v-divider>
                <div class="news" v-for="(item, index) in newsList.rows" :key="index">
                  <div class="image">
                    <img :src="item.cover_url" alt="">
                  </div>
                  <div class="title-block">
                    <div class="title-text">
                      <p>
                        <a href="">
                          {{ item.title }}
                        </a>
                      </p>
                    </div>
                    <div class="time">
                      <v-icon>mdi-calendar-month</v-icon>
                      <span> {{ item.created_at }}</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </v-col>
          <v-col>
            <div class="activity-block">
              <div class="title-text">
                <v-icon> mdi-flag</v-icon>
                <span>DUY·ªÜT HO·∫†T ƒê·ªòNG </span>
              </div>
              <div class="content">
                <span class="tab">M·ªöI NH·∫§T</span>
                <v-divider
                  class="mx-4"
                ></v-divider>
                <div class="users" v-for="(item, index) in [1,2,3,4,5,6,7,8,9,10]" :key="index">
                  <div class="avatar">
                    <v-avatar
                      color="#06B5E6"
                      size="36"
                    ><span class="name">HQ</span></v-avatar>
                  </div>
                  <div class="title-block">
                    <div class="title-text">
                      <p>
                        <a href="">102180126 - Nguy·ªÖn Tr·∫ßn C√¥ng T√¢n - 18TCLC_DT1</a>
                      </p>
                    </div>
                    <div class="time">
                      <v-icon>mdi-calendar-month</v-icon>
                      <span>30/04/2022 08:24</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </v-col>
        </v-row>
      </div>
    </div>
  </div>
  </v-app>
</template>

<script>
import localStorageUtils from "@/utils/local_storage";
import ProfileOption from '@/components/ProfileOption.vue';
import {mapActions, mapGetters} from "vuex";

export default {
  name: 'Home',
  components: { ProfileOption },
  data() {
    return {
      tab: null,
      currentUser: null,
      tabItems: [
        {tab: 'Trang ch·ªß', content: 'Tab 1 Content'},
        {tab: 'Gi·ªõi thi·ªáu', content: 'Tab 2 Content'},
        {tab: 'Ho·∫°t ƒë·ªông', content: 'Tab 3 Content', route: '/'},
        {tab: 'Li√™n h·ªá', content: 'Tab 4 Content'},
      ],
      slideItems: [
        {
          src: require('../../assets/image/slide9.jpg'),
        },
        {
          src: require('../../assets/image/slide5.png'),
        },
        {
          src: require('../../assets/image/slide10.jpg'),
        },
      ]
    }
  },
  computed: {
    ...mapGetters({
      newsList: 'getNewsList',
    }),
  },
  methods: {
    ...mapActions({
      fetchGetNewsList: 'fetchGetNewsList',
    }),
  },
  async created() {
    this.currentUser = localStorageUtils.getService().getCurrentUser();
    const query = {
      page: 1,
      size: 10,
    };
    await this.fetchGetNewsList(query);
    console.log('currentUser - ', this.currentUser);
  }
}
</script>

<style lang="scss">
.home-wrapper {
  display: flex;
  justify-content: center;

  .home-block {
    width: 1200px;

    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 8px 4px 0px;
      border-bottom: 4px solid #075794;

      .logo {
        img {
          width: 300px;
        }
      }

      .nav-options {
        display: flex;
        align-items: center;
        margin-left: -240px;

        .v-tab {
          font: 700 normal 14px/18px Roboto;
          font-weight: 700;
          color: #363636 !important;
          text-transform: uppercase;
          letter-spacing: 0;
        }

        .v-tabs-slider {
          background-color: #075794;
        }

        .v-tabs-bar {
          height: 36px !important;
        }

        .v-tab--active {
          color: #075794 !important;
        }
      }

      .btn-login-block {
        display: flex;
        align-items: center;
        justify-self: flex-end;

        .v-btn {
          background-color: #075794;
          color: #FFFFFF;
          font: 500 normal 13px Roboto;
          letter-spacing: 0px;
        }
      }
    }

    .banner-news {
      margin-top: 4px;
      background-color: #075794;
      height: 28px;
      font: normal 300 13px Roboto;
      color: #FFFFFF;
      display: flex;
      align-items: center;
    }

    .event-block {
      display: flex;
      column-gap: 16px;
      row-gap: 16px;
      margin-top: 8px;
      .slide-block {
        border: 2px solid #FFFFFF;
        box-shadow: rgb(50 50 93 / 25%) 0px 2px 5px -1px, rgb(0 0 0 / 30%) 0px 1px 3px -1px;
        display: flex;
        width: 700px;
        height: 400px;

        .v-window__prev {
          left: 0 !important;
        }

        .v-window__next {
          right: 0 !important;
        }

        .v-carousel__controls {
          height: 32px !important;
        }

        .v-window {
          height: 395px !important;
          width: 700px;
        }

        .v-window-item {
          height: 400px;
        }

        .v-carousel__item {
          height: 400px !important;
        }

        .v-image__image--cover {
          background-size: contain;
        }

        //.v-item-group {
        //  height: 350px !important;
        //}
        .v-responsive__content {
          width: 1200px !important;
        }
      }
      .image-block {
        display: flex;
        flex-direction: column;
        row-gap: 16px;
        img {
          width: 484px;
          height: 192px;
          border: 2px solid #FFFFFF;
          box-shadow: rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px;
        }
      }
    }


    .content-block {
      margin-top: 16px;

      .notification-block {
        .title-text {
          display: flex;
          align-items: center;

          i, span {
            color: #363636;
          }

          i {
            font-size: 20px;
          }

          span {
            padding-top: 1px;
            margin-left: 4px;
            font: 700 normal 17px/20px Roboto;
          }
        }

        .content {
          .tab {
            margin-top: 10px;
            padding-bottom: 2px;
            font: 700 normal 14px/18px Roboto;
            color: #075794;
            display: block;
            display: flex;
            align-items: center;
          }

          .v-tabs {
            margin-bottom: 4px;
          }

          .v-tab {
            font: 700 normal 14px/18px Roboto;
            font-weight: 700;
            color: #363636 !important;
            text-transform: uppercase;
            letter-spacing: 0;
            padding: 0 8px;
          }

          .v-tabs-slider {
            background-color: #075794;
          }

          .v-tabs-bar {
            height: 32px !important;
          }

          .v-tabs-slider-wrapper {
            display: none;
          }

          .v-tab--active {
            color: #075794 !important;
          }

          .notification {
            display: flex;
            column-gap: 8px;
            margin-bottom: 16px;
            margin-top: 8px;

            .post-time {
              box-shadow: rgba(50, 50, 93, 0.25) 0px 2px 5px -1px, rgba(0, 0, 0, 0.3) 0px 1px 3px -1px;
              border: 2px solid #FFFFFF;

              .date {
                display: block;
                width: 66px;
                height: 31px;
                background-color: #075794;
                display: flex;
                justify-content: center;
                align-items: center;
                color: #FFFFFF;
                font: normal 400 17px Roboto;
              }

              .year {
                display: flex;
                justify-content: center;
                align-items: center;
                width: 66px;
                height: 26px;
                border: 1px solid #b6becb;
                border-top: none;
                font: normal 400 17px Roboto;
                color: #a5a5a5;
              }
            }

            .title-block {
              .title-text {
                p {
                  a {
                    color: #363636;
                    font: 500 normal 14px Roboto;
                    text-decoration: none;

                    &:hover {
                      color: #075794;
                    }
                  }
                }
              }

              .time {
                display: flex;
                align-items: center;

                .v-icon {
                  font-size: 19px;
                }

                span {
                  font: 300 normal 13px Roboto;
                  color: #a9a9a9;
                }
              }
            }
          }
        }
      }

      .news-block {
        .title-text {
          display: flex;
          align-items: center;

          i, span {
            color: #363636;
          }

          i {
            font-size: 20px;
          }

          span {
            padding-top: 1px;
            margin-left: 4px;
            font: 700 normal 17px/20px Roboto;
          }
        }

        .content {
          .tab {
            margin-top: 10px;
            padding-bottom: 2px;
            font: 700 normal 14px/18px Roboto;
            color: #075794;
            display: block;
            display: flex;
            align-items: center;
          }

          .news {
            display: flex;
            column-gap: 8px;
            margin-bottom: 16px;
            margin-top: 8px;

            .image {
              img {
                width: 84px;
                height: 57px;
                box-shadow: rgba(50, 50, 93, 0.25) 0px 2px 5px -1px, rgba(0, 0, 0, 0.3) 0px 1px 3px -1px;
                border: 2px solid #FFFFFF;
              }
            }

            .title-block {
              .title-text {
                p {
                  a {
                    color: #363636;
                    font: 500 normal 14px Roboto;
                    text-decoration: none;

                    &:hover {
                      color: #075794;
                    }
                  }
                }
              }

              .time {
                display: flex;
                align-items: center;

                .v-icon {
                  font-size: 19px;
                }

                span {
                  font: 300 normal 13px Roboto;
                  color: #a9a9a9;
                }
              }
            }
          }
        }
      }

      .activity-block {
        .title-text {
          display: flex;
          align-items: center;

          i, span {
            color: #363636;
          }

          i {
            font-size: 21px;
          }

          span {
            margin-left: 4px;
            font: 700 normal 17px/20px Roboto;
          }
        }

        .content {
          .tab {
            margin-top: 10px;
            padding-bottom: 2px;
            font: 700 normal 14px/18px Roboto;
            color: #075794;
            display: flex;
            align-items: center;
          }

          .users {
            display: flex;
            column-gap: 8px;
            margin-bottom: 16px;
            margin-top: 8px;

            .avatar {
              .v-avatar {
                box-shadow: rgba(50, 50, 93, 0.25) 0px 2px 5px -1px, rgba(0, 0, 0, 0.3) 0px 1px 3px -1px;
              }

              .name {
                color: #FFFFFF !important;
                font: 500 normal 15px Roboto;
              }
            }

            .title-block {
              .title-text {
                p {
                  a {
                    color: #363636;
                    font: 500 normal 14px Roboto;
                    text-decoration: none;

                    &:hover {
                      color: #075794;
                    }
                  }
                }
              }

              .time {
                display: flex;
                align-items: center;

                .v-icon {
                  font-size: 19px;
                }

                span {
                  font: 300 normal 13px Roboto;
                  color: #a9a9a9;
                }
              }
            }
          }
        }
      }
    }
  }
}
</style>